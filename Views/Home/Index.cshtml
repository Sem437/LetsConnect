@model IEnumerable<LetsConnect.Models.WorkshopModel>

@section indexStyling {
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
    <!-- Zorg ervoor dat de JavaScript-bestanden goed zijn geladen -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Alle collapse knoppen
            var collapseButtons = document.querySelectorAll('[data-bs-toggle="collapse"]');

            // Event listener voor elke knop
            collapseButtons.forEach(function (button) {
                button.addEventListener('click', function () {
                    var targetCollapse = document.querySelector(button.getAttribute('data-bs-target'));

                    // Controleer of de collapse zichtbaar is
                    if (targetCollapse.classList.contains('show')) {
                        // Als zichtbaar, verberg de collapse
                        targetCollapse.classList.remove('show');
                        // Zet aria-expanded op 'false' wanneer de collapse dicht is
                        button.setAttribute('aria-expanded', 'false');
                    } else {
                        // Anders, toon de collapse
                        targetCollapse.classList.add('show');
                        // Zet aria-expanded op 'true' wanneer de collapse open is
                        button.setAttribute('aria-expanded', 'true');
                    }
                });
            });
        });
    </script>
}

@{
    ViewData["Title"] = "Home Page";
}

<div>

    @foreach (var Item in Model)
    {
        <h1 id="workshopName">@Item.WorkshopName</h1>
        <h6>@Item.WorkshopDescription</h6>
        <h6>Max personen: @Item.WorkshopMax</h6>
        <h6>Aangemelde personen: @Item.WorkshopSignUps</h6>
        <form method="post" asp-action="AddStudent">
            <input type="hidden" name="StudentId"  value="@ViewBag.UserId"/>          
            <input type="hidden" name="WorkshopId" value="@Item.WorkshopId"/>
            <div class="form-group">
                <input type="submit" value="Aanmelden" class="btn btn-primary" />
            </div>
       </form>
    }
</div>

